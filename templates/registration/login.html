{% extends 'base.html' %}
{% load static %}

{% block title %}Sign in — Pure Herb{% endblock %}

{% block content %}
<div class="signin">
  <div class="signin__card">
    <!-- Hero strip -->
    <div class="signin__hero">
      <div class="signin__hero-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
          <polyline points="10 17 15 12 10 7"/>
          <line x1="15" y1="12" x2="3" y2="12"/>
        </svg>
      </div>
      <div>
        <h1 class="signin__title">Welcome back</h1>
        <p class="signin__subtitle">Sign in to continue to Pure Herb Journal</p>
      </div>
    </div>

    <form method="post" action="{% url 'login' %}" class="signin__form" novalidate>
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ next }}">

      {% if form.non_field_errors %}
        <ul class="form-errors signin__errors">
          {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      <div class="signin__fields">
        <div class="form-field">
          <label for="id_username" class="form-field__label">Email or username</label>
          <div class="form-field__input-wrap">
            <span class="form-field__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            </span>
            <input
              type="text"
              name="username"
              id="id_username"
              class="form-field__input"
              placeholder="you@example.com"
              autocomplete="username"
              autofocus
              value="{{ form.username.value|default:'' }}"
            >
          </div>
          {% if form.username.errors %}
            <ul class="form-errors">{% for e in form.username.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>

        <div class="form-field">
          <label for="id_password" class="form-field__label">Password</label>
          <div class="form-field__input-wrap">
            <span class="form-field__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            </span>
            <input
              type="password"
              name="password"
              id="id_password"
              class="form-field__input"
              placeholder="••••••••"
              autocomplete="current-password"
            >
          </div>
          {% if form.password.errors %}
            <ul class="form-errors">{% for e in form.password.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>
      </div>

      <div class="signin__footer">
        <button type="submit" class="btn btn-primary signin__submit">
          <span>Sign in</span>
          <svg class="btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </button>
      </div>
    </form>

    <p class="signin__link">
      <a href="{% url 'journal:home' %}">← Back to home</a>
    </p>
  </div>
</div>
{% endblock %}
